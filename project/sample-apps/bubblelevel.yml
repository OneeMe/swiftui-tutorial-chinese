# TODO
- 内容: 'This method returns a string describing the value of a Double using a fixed number of digits. You can pass in the number of integer digits and fraction digits you want, or leave those arguments out for the default values of 2.'
  提示: ''
  翻译: ''
- 内容: 'An extension is a way to make custom behavior for existing types. Declaring extension Double means you’re adding new capabilities to the Double type. Any time you use a Double value in your code, you can access anything defined in this extension.'
  提示: ''
  翻译: ''
- 内容: 'This is the size of the level display, both width and height. You can change this value to make the display larger or smaller.'
  提示: ''
  翻译: ''
- 内容: 'The .number style has modifiers much like those for SwiftUI views.'
  提示: ''
  翻译: ''
- 内容: 'Because detector is an observable object, any changes to its published values allows SwiftUI to automatically update any views using those values. In this case, you’ll update the bubble’s position.'
  提示: ''
  翻译: '因为 detector 是一个可观察对象，所以任何对它的 published 值的更改都会使 SwiftUI 自动更新使用这些值的任何视图。在这种情况下，你将更新气泡的位置。'
- 内容: 'Bubble Level'
  提示: ''
  翻译: ''
- 内容: 'This property represents the range of values the motion detector reports as you tilt the device (assuming you don’t turn it upside down). Negative values indicate a tilt to the left, and positive values indicate a tilt to the right. (You could assign the value 3.14 to this property, but Double.pi is convenient shorthand for the mathematical constant π, and it’s a closer approximation because it includes many digits of precision.)'
  提示: ''
  翻译: ''
- 内容: 'This property holds a MotionDetector instance, which senses changes in your device’s motion. You can access this instance in your code to update the user interface as the motion data changes.'
  提示: ''
  翻译: ''
- 内容: 'Step 6'
  提示: ''
  翻译: ''
- 内容: 'Bubble Level View'
  提示: ''
  翻译: ''
- 内容: 'Orientation Data View'
  提示: ''
  翻译: '朝向数据视图'
- 内容: 'Then, use this adjusted value to calculate the roll as a fraction of the entire range of roll values, so that full tilt left is 0.0, flat is 0.5, and full tilt right is 1.0.'
  提示: ''
  翻译: ''
- 内容: 'Step 8'
  提示: ''
  翻译: ''
- 内容: 'The .sign modifier lets you format the number so that it’s always preceded by a sign, even when the number is positive.'
  提示: ''
  翻译: ''
- 内容: 'The deviceMotion data may not be there in certain conditions. The way you can tell if the data exists is to try to assign it to a variable or constant using if let. If the motion data exists, it’s assigned to data and the code inside the braces runs. Otherwise, it skips the entire if statement.'
  提示: ''
  翻译: '在一些情况下，deviceMotion 数据可能不存在。你可以通过 if let 来判断数据是否存在。如果 motion 数据存在，它会被赋值给 data 并且大括号内的代码会被执行。否则，整个 if 语句会被跳过。'
- 内容: 'Investigate using an extension on Double to format them in an easy to read way.'
  提示: ''
  翻译: ''
- 内容: 'The timer property stores a Timer instance. A timer waits for a period of time that you specify before running some code. The MotionDetector uses the timer to update its pitch, roll, and zAcceleration values at regular intervals, defined by the updateInterval property.'
  提示: ''
  翻译: 'timer 这个属性存储了一个 Timer 实例。Timer 会在你指定的时间段之后运行一些代码。MotionDetector 使用 timer 来在 updateInterval 属性定义的时间间隔内更新它的 pitch、roll 和 zAcceleration 值。'
- 内容: 'Seismometer'
  提示: ''
  翻译: ''
- 内容: 'The .number style gives you a string describing this Double value as a simple number, as opposed to a percentage or a price.'
  提示: ''
  翻译: ''
- 内容: 'The OrientationDataView displays the roll and pitch of your iPad as numbers. Roll is the degree of left and right tilt, and pitch is the degree of forward and backward tilt.'
  提示: ''
  翻译: 'OrientationDataView 会将你的 iPad 的翻滚角和俯仰角以数字的形式显示出来。翻滚角是左右倾斜的角度，俯仰角是前后倾斜的角度。'
- 内容: 'This app displays the orientation of your device as numbers and as a graphical version of a bubble level. Try tilting your device and watch the bubble move. Try to make your device level by centering the bubble in the crosshairs. Or place it on a surface like your bedroom floor to determine whether the floor is level.'
  提示: ''
  翻译: '这个 App 将会分别以数字和可视化的气泡水平仪来显示你设备的方向。你可以尝试倾斜你的设备并观察气泡移动，通过将气泡置于十字准线中心来使设备保持水平。或者将其放在卧室地板等表面上，以确定地板是否水平。'
- 内容: 'This property calculates the horizontal placement of the bubble using three steps.'
  提示: ''
  翻译: ''
- 内容: 'Step 12'
  提示: ''
  翻译: ''
- 内容: 'A ZStack view allows you to draw the components of the level over each other.'
  提示: ''
  翻译: ''
- 内容: 'Welcome to Bubble Level.'
  提示: ''
  翻译: '欢迎来到“气泡水平仪”这堂课。'
- 内容: 'Multiplying the fraction with the size of the level gives you the X position of the bubble.'
  提示: ''
  翻译: ''
- 内容: 'Because detector is an observable object, any changes made to its published values cause SwiftUI to automatically update any views using those values. In this case, changes from the device’s sensors update the Text view with the latest values for the pitch and roll.'
  提示: ''
  翻译: '因为 detector 是一个可观察对象，所以对它的 published 值所做的任何更改都会导致 SwiftUI 自动更新使用这些值的任何视图。在这种情况下，来自设备传感器的更改会使用最新的俯仰角和翻滚角的值更新 Text 视图上的字符。'
- 内容: 'Step 20'
  提示: ''
  翻译: ''
- 内容: 'Step 23'
  提示: ''
  翻译: ''
- 内容: 'Step 3'
  提示: ''
  翻译: ''
- 内容: 'Use the userAcceleration property to get the device’s acceleration after accounting for the downward pull of gravity. If it’s at rest, this number is 0. If it’s accelerating upward, the number is negative, and if it’s accelerating downward, the number is positive.'
  提示: ''
  翻译: '使用 userAcceleration 属性来获取设备在考虑到重力向下拉的情况下的加速度。如果它处于静止状态，这个数值为 0。如果它向上加速，这个数值为负数，如果它向下加速，这个数值为正数。'
- 内容: 'Because all of these calculations are hidden in a property, your view’s body code remains simple and readable.'
  提示: ''
  翻译: ''
- 内容: 'Your device has sensors such as accelerometers and gyroscopes that it uses to sense motion and orientation. The Core Motion framework gives you access to data from these and other sensors.'
  提示: ''
  翻译: '你的设备有加速计和陀螺仪等传感器，它们用于感知运动和方向。Core Motion 框架可以让你访问这些传感器和其他传感器的数据。'
- 内容: 'These two computed properties provide the strings used in the view. They take the roll or pitch value from the motion detector and format that number as a string with a fixed number of digits. The describeAsFixedLengthString() method is a custom method on the Double type. You can learn how it works in DoubleExtension.swift.'
  提示: ''
  翻译: '这两个计算属性提供了视图中使用的字符串。它们从 motion detector 中获取翻滚角或俯仰角的值，并将该数字格式化为具有固定位数的字符串。describeAsFixedLengthString() 方法是 Double 类型的自定义方法。你可以在 DoubleExtension.swift 中了解它的工作原理。'
- 内容: 'This deinitializer runs when a MotionDetector instance is about to go away. It’s important to clean up here; otherwise the timer would continue to run even after the motion detector is gone.'
  提示: ''
  翻译: '这个析构器会在 MotionDetector 实例即将消失时运行。在这里做一些善后工作是很重要的，否则计时器会在 motion detector 消失后继续运行。'
- 内容: 'This method stops updating the motion data. It does two important things:'
  提示: ''
  翻译: '这个方法会停止更新运动数据。它做了两件重要的事情：'
- 内容: 'Step 17'
  提示: ''
  翻译: ''
- 内容: 'Step 10'
  提示: ''
  翻译: ''
- 内容: 'This property returns a vertical line that you use to draw the bubble level display. Because there are multiple identical vertical lines, you can use this property whenever you need one rather than repeating the more complex code inside it.'
  提示: ''
  翻译: ''
- 内容: 'In the center are a smaller circle and a crosshair made of two lines: one horizontal and one vertical.'
  提示: ''
  翻译: ''
- 内容: 'Double Extension'
  提示: ''
  翻译: ''
- 内容: 'Learn to display the tilt of your device using a bubble level UI.'
  提示: ''
  翻译: ''
- 内容: 'The .precision modifier lets you specify exactly how many digits to use.'
  提示: ''
  翻译: ''
- 内容: 'The argument to formatted() is a format style.'
  提示: ''
  翻译: ''
- 内容: 'Because these properties use published values from MotionDetector, SwiftUI updates the bubble view’s position each time they change.'
  提示: ''
  翻译: ''
- 内容: 'Step 7'
  提示: ''
  翻译: ''
- 内容: 'Step 5'
  提示: ''
  翻译: ''
- 内容: 'It’s useful to define and use constants like these for important values in your code, rather than using the values themselves. When you read the code, you’ll have a better idea of what it does than if you see a lot of numbers with no context.'
  提示: ''
  翻译: ''
- 内容: 'With a monospaced font, each character has the same width. (For example, the strings 1.01 and 3.14 have different widths with a proportional font like Helvetica or Times, but 1.01 and 3.14 have the same width with a monospaced font like Courier or Menlo.)'
  提示: ''
  翻译: '在等宽字体下，每个字符的宽度都是相同的。（例如，1.01 和 3.14 这两个字符串在 Helvetica 或 Times 等比例字体下的宽度是不同的，但在 Courier 或 Menlo 等等宽字体下，1.01 和 3.14 的宽度是相同的。）'
- 内容: 'The overlay is useful here because it positions the level’s components relative to the circle they’re drawn in.'
  提示: ''
  翻译: ''
- 内容: 'Step 18'
  提示: ''
  翻译: ''
- 内容: 'Step 22'
  提示: ''
  翻译: ''
- 内容: 'Use the attitude property to get the device’s tilt in three directions. You may be familiar with X, Y, and Z axes in 3D space. Pitch, roll, and yaw are numbers that describe rotation along those axes.'
  提示: ''
  翻译: '使用 attitude 属性来获取设备在三个方向上的倾斜。你可能熟悉 3D 空间中的 X、Y 和 Z。Pitch（俯仰）、roll（翻滚）和 yaw（偏航）是描述沿这些轴旋转程度的数字。'
- 内容: 'You can use the MotionDetector class to observe the motion of your device.'
  提示: ''
  翻译: '你可以使用这个 MotionDetector 类来观察你的设备的运动。'
- 内容: 'A CMDeviceMotion instance represents device motion, stored here in data. It has quite a few properties describing the input from the motion sensors.'
  提示: ''
  翻译: 'CMDeviceMotion 实例代表设备的运动，存储在 data 中。它有很多属性来描述传感器的输入。'
- 内容: 'The block of code at the end of the line that reads { _ in is the start of a closure containing the code that the timer runs. The closure calls updateMotionData().'
  提示: ''
  翻译: '第一行最末端的 { _ in 是一个闭包的开始，包含了定时器运行的代码。这个闭包会调用 updateMotionData() 方法。'
- 内容: 'This property calculates the vertical position of the bubble in the same way that bubbleXPosition works.'
  提示: ''
  翻译: ''
- 内容: 'Because this view uses a published value from detector, SwiftUI updates it any time the motion detector’s roll value changes.'
  提示: ''
  翻译: '因为这个视图使用了 detector 的一个 published value，所以 SwiftUI 会在运动检测器的翻滚角的值发生变化时更新它。'
- 内容: 'This method starts updating the motion detector.'
  提示: ''
  翻译: '这个方法会开始用传感器的数据更新我们的运动检测器的数据。'
- 内容: 'You use a CMMotionManager object to get motion data from sensors, such as the accelerometer. It gathers information from the sensors and translates their data into values that you can understand.'
  提示: ''
  翻译: '你将会使用 CMMotionManager 对象来获取传感器的运动数据，例如加速计。它会从传感器中收集信息，并将它们的数据转换为你可以理解的值。'
- 内容: 'Step 11'
  提示: ''
  翻译: ''
- 内容: 'A bubble level helps you determine whether something is level or tilted.'
  提示: ''
  翻译: '气泡水平仪可帮助您确定一个物体是水平还是倾斜。'
- 内容: 'While you can write all of the code here in a longer mathematical expression, decomposing the code makes it easier to understand. (Can you imagine having to explain this code if it were written in one line?!)'
  提示: ''
  翻译: ''
- 内容: 'Motion Detector'
  提示: ''
  翻译: ''
- 内容: 'These three properties store data for the tilt of your device in two dimensions (roll and pitch), as well as its vertical acceleration (zAcceleration).'
  提示: ''
  翻译: '这三个属性存储了你的设备在两个维度上的倾斜数据（roll 和 pitch），以及它的垂直加速度（zAcceleration）。'
- 内容: 'You can choose an update interval that makes sense for your app. For example, you’ll want a short update interval for the bubble level in this project because the interface presents real-time data as the device moves.'
  提示: ''
  翻译: '你可以选择一个对你的应用程序有意义的更新间隔。例如，你将希望这个项目中的气泡水平仪有一个短的更新间隔，因为界面会随着设备的移动而实时显示数据。'
- 内容: 'The .font modifier formats this Text view with a monospaced font. By default, a Text view uses a system font with proportional width, but that causes the text view to change its width as the numbers change.'
  提示: ''
  翻译: '.font 装饰器使用等宽字体格式化这个 Text 视图。默认情况下，Text 视图使用系统字体，它的宽度是比例宽度，但这会导致 Text 视图在数字变化时改变它的宽度。'
- 内容: 'Always use isDeviceMotionAvailable to verify that motion data is available before you try to access it.'
  提示: ''
  翻译: '在你想要访问运动数据之前，记得始终使用 isDeviceMotionAvailable 来验证运动数据是否可用。'
- 内容: 'The .overlay modifier adds a view on top of the circle that occupies the same area.'
  提示: ''
  翻译: ''
- 内容: 'Step 19'
  提示: ''
  翻译: ''
- 内容: 'The first circle represents the bubble. Notice that the bubbleXPosition and bubbleYPosition values position the bubble inside the overlay view.'
  提示: ''
  翻译: ''
- 内容: 'Access and display device sensor data by subscribing to notifications.'
  提示: ''
  翻译: '通过订阅通知来访问和显示设备传感器数据。'
- 内容: 'Step 16'
  提示: ''
  翻译: ''
- 内容: 'This property holds a MotionDetector instance. The motion detector senses changes in your device’s motion and provides that data for you to use in your code.'
  提示: ''
  翻译: '这个属性会持有一个 MotionDetector 实例。运动检测器会感知你的设备运动的变化，并为你提供这些数据，以便你在代码中使用。'
- 内容: 'First, it tells the CMMotionManager to stop updating its values by calling stopDeviceMotionUpdates(), then it stops the timer by calling invalidate().'
  提示: ''
  翻译: '首先，它会通过调用 stopDeviceMotionUpdates() 来告诉 CMMotionManager 停止更新它的值，然后通过调用 invalidate() 来停止定时器。'
- 内容: 'Step 2'
  提示: ''
  翻译: ''
- 内容: 'Learn to display motion data as string values in the view.'
  提示: ''
  翻译: '学习将运动数据显示为视图中的字符串值。'
- 内容: 'This method does the core work of the motion detector. It’s responsible for updating all the published properties with current data from the sensors, as well as calling the code in onUpdate.'
  提示: ''
  翻译: '这个方法是运动检测器的核心工作。它负责使用传感器的当前数据更新所有已发布的属性，以及调用 onUpdate'
- 内容: 'You run the code in onUpdate just as you’d call any function, with a set of parentheses following its name.'
  提示: ''
  翻译: '你可以像调用任何函数一样调用 onUpdate 中的代码，只需要在函数名后面加上一对括号。'
- 内容: 'There are four other lines on the edge of the frame of the bubble level display. You can use the .position modifier to move them relative to their default position at the center of the overlay view.'
  提示: ''
  翻译: ''
- 内容: 'This code creates a new timer and schedules it to run. The updateInterval property tells the timer how long to wait between updates, and repeats is set to true so that the timer runs forever until you stop it. (If you pass false to repeats, the timer only runs once.)'
  提示: ''
  翻译: '这段代码创建了一个新的计时器并设定了其运作方式。updateInterval 属性会告诉计时器在每次数据更新之间需要等待多长时间，将 repeats 设置为 true 后，计时器就会一直运行，直到你停止它。（如果你传递 false 给 repeats，计时器只会运行一次。）'
- 内容: 'First, adjust the roll value from the detector so that it has a minimum of 0 and goes up to the value of π, and store the adjusted value in zeroBasedRoll. This helps with the next part of the calculation, which needs values greater than 0.'
  提示: ''
  翻译: ''
- 内容: 'This method tells the CMMotionManager to start updating motion data.'
  提示: ''
  翻译: '这个方法会告诉 CMMotionManager 开始更新运动数据。'
- 内容: 'This property stores code that runs when the MotionDetector updates its motion data. If you want to execute custom actions every time the motion data changes, you can put your own code into onUpdate in your instance of MotionDetector.'
  提示: ''
  翻译: '这个属性存储了当 MotionDetector 更新其运动数据时需要运行的代码。如果你想在每次运动数据发生变化时执行自定义操作，你可以将自己的代码放到 MotionDetector 的 onUpdate 中。'
- 内容: 'Here is the value for the roll of the device, presented as text.'
  提示: ''
  翻译: '这里是设备的翻滚角的值，以文本形式呈现。'
- 内容: 'Step 13'
  提示: ''
  翻译: ''
- 内容: 'Step 4'
  提示: ''
  翻译: ''
- 内容: 'Step 9'
  提示: ''
  翻译: ''
- 内容: 'You can use a .frame modifier to give the circle a fixed width and height, which is important to draw the other components correctly.'
  提示: ''
  翻译: ''
- 内容: 'Step 14'
  提示: ''
  翻译: ''
- 内容: 'Step 1'
  提示: ''
  翻译: ''
- 内容: 'Step 15'
  提示: ''
  翻译: ''
- 内容: 'Here’s a circle with a gray foreground color that provides a visual boundary for the display.'
  提示: ''
  翻译: ''
- 内容: 'Step 21'
  提示: ''
  翻译: ''
- 内容: 'These properties have a @Published property wrapper, which means that any SwiftUI view that depends on their values updates when they change. You make a view dependent on a published property by referring to it in the view’s code. The BubbleLevel, LevelView, and OrientationDataView views use these properties, which enables them to update when the MotionDetector detects a change to the roll, pitch, or zAcceleration values.'
  提示: ''
  翻译: '这些属性有一个 @Published 属性包装器，这意味着任何依赖于它们值的 SwiftUI 视图会在它们改变时更新。你可以通过在视图的代码中引用它来使视图依赖于已发布的属性。BubbleLevel、LevelView 和 OrientationDataView 视图使用这些属性，这使它们能够在 MotionDetector 检测到 roll、pitch 或 zAcceleration 值的变化时更新。'
- 内容: 'Present dynamic data in custom views.'
  提示: ''
  翻译: ''
- 内容: 'The formatted() method operates on a number of basic types such as Date, Int, and Double, which are all commonly represented as strings in an app. Because there are so many ways to format these strings, the formatted() method gives you ways to customize how they’re represented. For example, does a number represent a percentage, or a simple value, or maybe a price?'
  提示: ''
  翻译: ''
- 内容: 'This view displays the tilt of your device by drawing a circle within a larger circular boundary with crosshairs to indicate its centerpoint. When your device is level, the bubble rests at the center of the frame. Try tilting your device to see how the bubble moves.'
  提示: ''
  翻译: ''
